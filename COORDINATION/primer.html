<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
                      "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>Chandra Uplink Support INTerface: Primer on Chandra Uplink Supp</TITLE>
<META NAME="Author" CONTENT="Dan Schwartz (das@head-cfa.harvard.edu)">
<META NAME="Subject" CONTENT="Primer on Chandra Uplink Support contact interface, for ACIS.">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>Primer on Chandra Uplink Support contact interface, for ACIS.</H1>
<!-- received="Wed Oct  4 10:14:39 2000" -->
<!-- isoreceived="20001004141439" -->
<!-- sent="Wed, 04 Oct 2000 10:14:38 -0400" -->
<!-- isosent="20001004141438" -->
<!-- name="Dan Schwartz" -->
<!-- email="das@head-cfa.harvard.edu" -->
<!-- subject="Primer on Chandra Uplink Support contact interface, for ACIS." -->
<!-- id="200010041414.KAA25603@head-cfa.harvard.edu" -->
<STRONG>From:</STRONG> Dan Schwartz (<A HREF="mailto:das@head-cfa.harvard.edu?Subject=Re:%20Primer%20on%20Chandra%20Uplink%20Support%20contact%20interface,%20for%20ACIS.&In-Reply-To=&lt;200010041414.KAA25603@head-cfa.harvard.edu&gt;"><EM>das@head-cfa.harvard.edu</EM></A>)<BR>
<STRONG>Date:</STRONG> Wed Oct 04 2000 - 10:14:38 EDT
<P>

<HR NOSHADE><P>
<!-- body="start" -->
<PRE>

I enclose some information as an introduction to the uplink 
support task, particularly oriented to ACIS.

First is a summary of the thread -- what we are trying to do.

Then I introduce some of the tools we use. These are all web based.

I attach an email from Paul telling how to get information on 
what is in an ACIS parameter block.

Please contact me with comments, corrections, or for further
explanation.

Dan
***************************************************************************
Summary of the Uplink contact thread.

- ------- Forwarded Message

Date:    Tue, 04 Apr 2000 13:22:02 -0400
From:    Dan Schwartz &lt;<A HREF="mailto:das@head-cfa.harvard.edu?Subject=Re:%20Primer%20on%20Chandra%20Uplink%20Support%20contact%20interface,%20for%20ACIS.&In-Reply-To=&lt;200010041414.KAA25603@head-cfa.harvard.edu&gt;">das@head-cfa.harvard.edu</A>&gt;
To:      das


GOAL:
	The observation configuration is correct, checked and
approved by the Observer with assistance from CXC uplink contact, 
prior to being picked as a candidate in a draft OR list.

 

EVERY approved observation has an uplink contact assigned.

    Includes GTO/GO/ and those TOO which are approved by Peer Review

    Sorted by LETG, HETG, HRC, ACIS (ACIS divided by science topic)
    
    Calibration Observer acts as their own uplink contact



Chandra Uplink Support contacts are 7 CAL and 7 DOSS scientists
	acting as an intra-group team



Personalized form letters go to each Observer/PI, for each target (i.e., each  
sequence number).
	
	Explain the process

	Identify key issues

	Point to CXC web pages for more detailed information




SCHEDULE: (in equilibrium)
   For targets in long term schedule:
	Draft ORs are picked 23 days before the start of the week
in which they are scheduled. (Denote as S-23). AT this point, the 
science mission planner for the week S &quot;owns&quot; the configuration, and 
no further changes can be made without their approval and cognizance.
	CXC uplink contact must finalize and sign-off on OBSCAT 
configuration by S-25.
	Observer/PI must respond with final changes or okay by 
S-32
	Observer/PI be contacted at least S-60.

S is the Sunday of the week in which the target appears in the long term 
schedule.

   For pool targets and TOO:
	Observer/PI are contacted when long term schedule is 
generated
	Asked for a response within two weeks.



INFRASTRUCTURE: Web Page based.
   In Order:
	CXC uplink contact requests changes to observing parameters

	Archive group edits and signs off on 
		General Obscat edits (e.g., target position)
		ACIS obscat edits (these may trigger alerts to 
		  ACIS ops team to change parameter blocks)

	ACIS or Archive make ACIS SI_MODE changes. This changes the
	  name of the parameter block which is to be used in the 
	  command generation.

	Uplink Contact verifies and signs-off final configuration

    Other features:
	Signoff for observations &quot;Okay as is&quot;
	Automatic email reminder that signoff is ready
	Archive email to Chandra User Support
	                 (<A HREF="mailto:cus@head-cfa.harvard.edu?Subject=Re:%20Primer%20on%20Chandra%20Uplink%20Support%20contact%20interface,%20for%20ACIS.&In-Reply-To=&lt;200010041414.KAA25603@head-cfa.harvard.edu&gt;">cus@head-cfa.harvard.edu</A>)

THREAD:
    Mission planning checks sign-off page, verifies that every 
	OBSID is ready to have an OR generated.		
	
    Uplink contact reviews that the initial OR is correct, 
	with respect to OBSCAT

    We hand-off to the DOSS instrument scientist for load review,
	as had always been done

    The Uplink Contact informs the Observer/PI If an observation
	planned for a given week is not actually scheduled for 
	that week; 
	If a scheduled observation is &quot;bumped&quot; due to a TOO, safe
	mode, etc.,
	When a pool observation is scheduled for a specific week.

     When the observation is completed and the data received 
	on the ground, the CXC DS informs the observer, sends 
	quick look images, and the downlink &quot;Science Contact&quot;
	takes over the interface to the User.




- - -------------------------------------------------------
Dan Schwartz,	MS #3
<A HREF="mailto:das@head-cfa.harvard.edu?Subject=Re:%20Primer%20on%20Chandra%20Uplink%20Support%20contact%20interface,%20for%20ACIS.&In-Reply-To=&lt;200010041414.KAA25603@head-cfa.harvard.edu&gt;">das@head-cfa.harvard.edu</A>  
phone: (617)495-7232    FAX:   (617)495-7356
cell phone: (617)512-5627   
pager: 800-759-8352 PIN 1636502
       or e-mail <A HREF="mailto:1636502@skytel.com?Subject=Re:%20Primer%20on%20Chandra%20Uplink%20Support%20contact%20interface,%20for%20ACIS.&In-Reply-To=&lt;200010041414.KAA25603@head-cfa.harvard.edu&gt;">1636502@skytel.com</A> 
- - -------------------------------------------------------




- ------- End of Forwarded Message

******************************************************************************

TOOLS:
The top level page is the 
Chandra Uplink Support INTerface Organizational Page 
<A HREF="http://hea-www.harvard.edu/%7emta/CUS/">http://hea-www.harvard.edu/%7emta/CUS/</A>

Try the buttons on this page.  I'll discuss some of top
half page, but not the &quot;Useful notes and Sites.&quot;

A. A STANDARD LETTER TO THE OBSERVER

If you hit the 'Email generation' button you go to 
<A HREF="http://icxc.harvard.edu/cal/go_form/a02.html">http://icxc.harvard.edu/cal/go_form/a02.html</A>

which makes a &quot;boilerplate&quot; form letter to your observer for
their particular observation. For example, fill in 900087,
Schwartz, click ACIS, and generate a draft for review, and 
you'll see a letter from me to UEDA. Print this out for
yourself, and note the references to the schedule web pages
and to acis calibration pages. I invariably click the 
&quot;I need to edit this letter&quot; button which forwards it to 
me, and NOT the User, and then I touch it up.

Note that currently we are defining next year's long term 
schedule so it isn't available to the Users for a couple(?)
more weeks as of Oct 4. 
See
file:/data/mpcrit1/mplogs/2000/LTS2/scheduled/lts2c.html
(and soon to be lts2d.html)
for the internal working copy. 

The URL
<A HREF="http://asc.harvard.edu/cgi-gen/target_param.cgi?2256">http://asc.harvard.edu/cgi-gen/target_param.cgi?2256</A>
(where the last digits are the significant digits (no leading 
zeros) of the actual OBSID) will give the configuration for
that OBSID.

I suggest emailing to both the OBSERVER and the PI. You can find
addresses on the 'Contact Information Page'
<A HREF="http://hea-www.harvard.edu/%7emta/CUS/contactinfo.txt">http://hea-www.harvard.edu/%7emta/CUS/contactinfo.txt</A>


B. MAIL ARCHIVE

All email concerning uplink contacts should have a copy sent to
our email archive, cus@head-cfa.harvard.edu.  Ask/remind Observers
to copy cus on all their correspondence. This creates the &quot;paper
trail&quot; for authorization/approval of all observing configurations.
AVO -- but when the Observer won't send you email and you talk to 
them, then you should summarize in an email you send to cus. We provide
several web tools for searching cus.

We have a majordomo list 'usint' which includes all the uplink contact
people, and the cus archive.

C. UPDATING THE PARAMETERS OF AN OBSERVATION
Sequence number search page
<A HREF="http://icxc.harvard.edu/uspp/OR_www/index_new.html">http://icxc.harvard.edu/uspp/OR_www/index_new.html</A>
lets us find any approved observation via a variety of 
different query parameters. That page returns a list of OBSIDs 
which meet the search criteria.  Click on the number of one specific
OBSID to get to a page which you can edit. We can also get to it via
<A HREF="http://icxc.harvard.edu/cgi-bin/usg/ocatdata2html.cgi?2260">http://icxc.harvard.edu/cgi-bin/usg/ocatdata2html.cgi?2260</A>
(where we enter the OBSID in place of 2260.) You can enter
change requests in this page, by editing any of the boxes. However, 
the user interface person should not try to change the exposure time, 
or the SI Mode. Also, parameters which the Observer is not
allowed to change (see the end of the standard letter to the 
Observers) should not be changed without email approval from the 
director's office. We change pointing position by an arcmin or so
based on our own judgement.
If there are no changes required, and the OBSERVER approves the configuration,
we click the 'User Approves this ObsID as is' button on the bottom.

Once we enter a change, an entry appears in the page
OBSIDS update verification, at the URL 
<A HREF="http://icxc.harvard.edu/cgi-bin/usg/orupdate.cgi">http://icxc.harvard.edu/cgi-bin/usg/orupdate.cgi</A>
and then various people may need to sign off, depending on the 
nature of the change, but always culminating with an approval 
signoff in the 'Verified by' column by the original uplink 
support person who entered the changes.

After that final sign-off, the entry appears in the page
OBSIDS updates which have been closed out
<A HREF="http://icxc.harvard.edu/cgi-bin/usg/orupdated.cgi">http://icxc.harvard.edu/cgi-bin/usg/orupdated.cgi</A>
This is the page of observations which are approved, from
which the mission planners can draw ORs.
******************************************************************************
- ------------------------------------------------------------------
NOTES from Paul Plucinsky on decoding ACIS parameter blocks.
After the OR is issued, you can check whether the ACIS parameter
block, indicated by the value of the statement SI_MODE=&lt;xxxx&gt;, 
captures the entries in the OBSCAT form.

- ------- Forwarded Message

Date:    Tue, 21 Mar 2000 15:19:49 -0500
From:    &quot;Paul P. Plucinsky&quot; &lt;<A HREF="mailto:plucinsk@head-cfa.harvard.edu?Subject=Re:%20Primer%20on%20Chandra%20Uplink%20Support%20contact%20interface,%20for%20ACIS.&In-Reply-To=&lt;200010041414.KAA25603@head-cfa.harvard.edu&gt;">plucinsk@head-cfa.harvard.edu</A>&gt;
To:      usint
Subject: Notes on accessing ACIS Parameter Blocks 

hi Folks,

  Below is an electronic copy of the notes we went over at the meeting
today to access an ASCII representation of ACIS parameter blocks.  Please
run through this yourself because I am sure that I have forgotten
something obvious.
   I will update and have it posted on Scott's web page.

Paul
  

************************************************************************


NOTES ON HOW TO EXAMINE	THE CONTENTS OF A PARAMETER BLOCK
3/21/2000	ppp

[A] Get an ASCII listing of the PB:

1. add &quot;/data/acis0/sacgs/bin&quot; to your path, be sure to put it AFTER
your default path, for example:

   set path = ($path /data/acis0/sacgs/bin . )

2. to examine SIMODE TE_00306, type at the UNIX prompt

head&gt; ratcfg -d /data/acis0/sacgs/odb/current.dat -c 
/data/acis0/sacgs/odb/current.cfg TE_00306B | lcmd -r -v | more

or save it to a file instead of piping it to more.


3. The output will show ALL the ACIS commands necessary to execute a
science run, you are most likely interested in only the PB which has a
title of :
&quot;loadTeBlock[0] = {    &quot;


[B] Examine PB on the Web:

1. go to &quot;<A HREF="http://acis.mit.edu/asc/">http://acis.mit.edu/asc/</A>&quot;

2. Use the pull-down menu for &quot;The Annotated Dot&quot;, hit the &quot;GO&quot; button,

3. Click on any highlighted ACIS command beginning with &quot;WT&quot;,
this takes you to a listing of the PB.

4. Relate SIMODE name to PB block name:

   SIMODE   TE_002AA
	       |||||
	       vvvvv
   PB name   WT002AA014

   SIMODE   CC_0004C
	       |||||
	       vvvvv
   PB name   WC0004C024

** the second to last number gives the version number, the CC PBs are
now on version #2, hence the &quot;024&quot;; the TE PBs are on version #1,
hence the &quot;014&quot;.


5. Edit the URL path with the name of the PB you wish to examine and
hit return, for example SIMODE TE_002A6 is PB name WT002A6014

<A HREF="http://acis.mit.edu/cgi-bin/get-atbls?tag=WC0004C014">http://acis.mit.edu/cgi-bin/get-atbls?tag=WC0004C014</A>
					      |||
					      vvv	
<A HREF="http://acis.mit.edu/cgi-bin/get-atbls?tag=WC002A6014">http://acis.mit.edu/cgi-bin/get-atbls?tag=WC002A6014</A>


6.  You can also access the OBSCAT entries from Peter's Web page with
the caveat that they are updated one day behind changes at 60 Garden
St.

<A HREF="http://acis.mit.edu/cgi-bin/get-obsid?id=00614">http://acis.mit.edu/cgi-bin/get-obsid?id=00614</A>
					 ^^^^^
					 |||||
					 put in OBSID


Caveats:

- - - method #2 does not tell you which 2D window block goes with which 
PB, therefore you must use method #1 to determine which window block
goes with which PB

- - - remember ACIS PBs come in pairs, bias and no-bias.  For example,
WT002A2014 computes and telemeters a bias, WT002A3014 does NOT compute and
telemeter a bias.  If the fourth to last digit is EVEN, bias is
computed; if the last digit is ODD, bias is not computed.  The SIMODE
is same for both of these TE_002A2; the OFLS picks the appropriate PB
depending on whether bias is required or not.

- - - in ratcfg, the following are valid entries:
TE_002A2   --&gt; this points to PB WT002A3014 which does NOT compute bias
TE_002A2B  --&gt; this points to PB WT002A2014 which does compute bias
TB_002A2   --&gt; this forces a bias, overiding the OFLS selection


the following is not an entry in the database
TE_002A3

- - - remember the version number of the PBs, if you use the web page to
go directly to the PB WT002A2014 for example, you should also look for
WT002A2024 to see if it exists.


[C] Entries any USINT can check in the PB to ensure consistency with the
OBSCAT entries


fepCcdSelect		4    7    5    6    8    9     CCDID numbers
fepMode			FEP_TE_MODE_EV3x3,FEP_TE_MODE_EV5x5,
			FEP_CC_MODE_EV1x3,FEP_CC_MODE_EV3x3
bepPackingMode		BEP_TE_MODE_FAINT,BEP_TE_MODE_FAINTBIAS,
			BEP_TE_MODE_GRADED,
onChip2x2Summing	0 = no, 1 = yes
recomputeBias		0 = no, 1 = yes
trickleBias		0 = no, 1 = yes
subarrayStartRow	begins with row 0 (1 less than Obscat value)
subarrayRowCount	begins with row 0 (1 less than Obscat value)
primaryExposure         * in tenths of secs, 32 is 3.2s
secondaryExposure          
dutyCycle 
lowerEventAmplitude     * in ADUs, not keV
eventAmplitudeRange 
windowSlotIndex		- 65535 indicates that no window is used,  
			  4 indicates that a window is used,
			   '4' indicates the window slot index








<!-- trailer="footer" -->
<HR NOSHADE>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.hypermail.org/">hypermail 2b29</A> 
: <EM>Wed Oct 04 2000 - 12:12:04 EDT</EM>
</EM>
</SMALL>
</BODY>
</HTML>
